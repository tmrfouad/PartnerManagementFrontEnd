<!-- RFQ Details -->
<div class="card-deck">
  <div class="card">
    <div class="card-header bg-dark text-white">
      <h3 class="d-inline-block">RFQ Details</h3>
      <div class="dropdown float-right">
        <a class="btn btn-light btn-sm text-dark dropdown-toggle" matTooltip="Add Action" matTooltipPosition="left" id="addActionDropDownBtn"
          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fa fa-plus"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="addActionDropDownBtn">
          <a class="dropdown-item" *ngFor="let item of actionTypeNames" (click)="addAction(item)">
            {{ item }}
          </a>
        </div>
      </div>
    </div>
    <ng-template #loading>
      <loading></loading>
    </ng-template>
    <div class="card-body row" *ngIf="rfq; else loading">
      <div class="col-12">
        <a class="btn btn-link float-right"
          matTooltip="Edit Request" matTooltipPosition="above"
          (click)="openRfqEditDialog()">
          <i class="fa fa-edit"></i>
        </a>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Request Code :</span>
        <span class="card-text">{{ rfq.rfqCode }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Company :</span>
        <span class="card-text">{{ rfq.companyEnglishName }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Contact Person :</span>
        <span class="card-text">{{ rfq.contactPersonEnglishName }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Email :</span>
        <span class="card-text">{{ rfq.contactPersonEmail }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Mobile No. :</span>
        <span class="card-text">{{ rfq.contactPersonMobile }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Phone No. :</span>
        <span class="card-text">{{ rfq.phoneNumber }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Product :</span>
        <span class="card-text">{{ rfq.targetedProduct }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Bundle :</span>
        <span class="card-text">{{ rfq.selectedBundle }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Website :</span>
        <span class="card-text">{{ rfq.website }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Location :</span>
        <span class="card-text">{{ rfq.location }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Address :</span>
        <span class="card-text">{{ rfq.address }}</span>
      </div>
      <div class="col-6">
        <span class="card-subtitle font-weight-bold">Current Status :</span>
        <span class="card-text">{{ statusesMap[rfq.status] }}</span>
      </div>
    </div>

    <div class="card-footer" *ngIf="rfqStatus">
      <!-- Status -->
      <h3 class="d-inline-block">Current Status :</h3>
      <a class="btn btn-link float-right" (click)="openStatusEditDialog(rfqStatus)"
        matTooltip="Edit Status Action" matTooltipPosition="above">
        <i class="fa fa-edit"></i>
      </a>
      <div class="card-body row" *ngIf="rfqStatus; else loading">
        <div class="col-6">
          <span class="card-subtitle font-weight-bold">Action Code :</span>
          <span class="card-text">{{ rfqStatus.actionCode }}</span>
        </div>
        <div class="col-6">
          <span class="card-subtitle font-weight-bold">Action Time :</span>
          <span class="card-text">{{ rfqStatus.actionTime | date:'yyyy/MM/dd HH:mm:ss' }}</span>
        </div>
        <div class="col-6">
          <span class="card-subtitle font-weight-bold">Action Type :</span>
          <span class="card-text">{{ actionType_Names[rfqStatus.actionType] }}</span>
        </div>
        <div class="col-6">
          <span class="card-subtitle font-weight-bold">Representative :</span>
          <span class="card-text">{{ rfqStatus.companyRepresentative }}</span>
        </div>
        <div class="col-6">
          <span class="card-subtitle font-weight-bold">Comments :</span>
          <span class="card-text">{{ rfqStatus.comments }}</span>
        </div>
      </div>
      <!-- <rfq-status [rfq]="rfq"></rfq-status> -->
      <!-- End of Status -->

      <button class="btn btn-sm btn-outline-dark w-100" matTooltip="Show All Actions" matTooltipPosition="above" type="button"
        (click)="toggleStatusList()">
        <i class="fa fa-angle-double-down" *ngIf="statusListHidden"></i>
        <i class="fa fa-angle-double-up" *ngIf="!statusListHidden"></i>
      </button>

      <!-- Status List -->
      <rfq-status-list [rfq]="rfq" [reload]="reloadActions" [hidden]="statusListHidden"></rfq-status-list>
      <!-- End of Status List -->
    </div>
  </div>
</div>